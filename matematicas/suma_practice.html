<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Sumas Aleatorias</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            padding: 20px;
            border-radius: 10px;
        }

        .header h1 {
            color: #2d3748;
            font-size: 2.5rem;
            margin: 0 0 10px 0;
        }

        .header p {
            color: #4a5568;
            font-size: 1.1rem;
            margin: 0;
        }

        .controles {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 6px solid #007bff;
        }

        .controles h3 {
            color: #007bff;
            margin: 0 0 20px 0;
            font-size: 1.3rem;
        }

        .selector-nivel {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .boton-nivel {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .boton-nivel:hover {
            background: #0056b3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,123,255,0.3);
        }

        .boton-nivel.activo {
            background: #28a745;
            box-shadow: 0 4px 12px rgba(40,167,69,0.3);
        }

        .controles-generacion {
            text-align: center;
            margin-top: 20px;
        }

        .boton-generar {
            background: #28a745;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
        }

        .boton-generar:hover {
            background: #218838;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40,167,69,0.3);
        }

        .boton-limpiar {
            background: #6c757d;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
        }

        .boton-limpiar:hover {
            background: #545b62;
            transform: translateY(-2px);
        }

        .cantidad-selector {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .cantidad-selector label {
            font-weight: bold;
            color: #495057;
        }

        .cantidad-selector select {
            padding: 8px 15px;
            border: 2px solid #007bff;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
        }

        .area-ejercicios {
            margin-top: 30px;
        }

        .ejercicios-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .ejercicio {
            background: white;
            padding: 25px;
            border-radius: 10px;
            border: 3px solid #e9ecef;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
        }

        .ejercicio:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            border-color: #007bff;
        }

        .numero-ejercicio {
            position: absolute;
            top: -10px;
            left: -10px;
            background: #007bff;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .suma-problema {
            font-size: 1.6rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 20px;
            font-family: 'Courier New', monospace;
            line-height: 1.4;
        }

        .input-respuesta {
            width: 150px;
            height: 45px;
            border: 3px solid #28a745;
            border-radius: 8px;
            text-align: center;
            font-size: 1.4rem;
            font-weight: bold;
            color: #2d3748;
            background: #f8fff8;
            outline: none;
            transition: all 0.3s ease;
        }

        .input-respuesta:focus {
            border-color: #007bff;
            background: #f0f8ff;
            transform: scale(1.05);
        }

        .input-respuesta.correcto {
            border-color: #28a745;
            background: #d4edda;
        }

        .input-respuesta.incorrecto {
            border-color: #dc3545;
            background: #f8d7da;
        }

        .boton-verificar {
            background: #ffc107;
            color: #212529;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .boton-verificar:hover {
            background: #e0a800;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255,193,7,0.3);
        }

        .resultado {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            border-radius: 10px;
            font-size: 1.3rem;
            font-weight: bold;
            display: none;
        }

        .resultado.mostrar {
            display: block;
        }

        .resultado.exito {
            background: #d4edda;
            color: #155724;
            border: 3px solid #28a745;
        }

        .resultado.parcial {
            background: #fff3cd;
            color: #856404;
            border: 3px solid #ffc107;
        }

        .info-nivel {
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 8px;
            border-left: 4px solid #2196f3;
            display: none;
        }

        .info-nivel.mostrar {
            display: block;
        }

        .info-nivel h4 {
            color: #1976d2;
            margin: 0 0 8px 0;
        }

        .info-nivel p {
            color: #424242;
            margin: 0;
        }

        .estadisticas {
            display: flex;
            justify-content: space-around;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }

        .estadisticas.mostrar {
            display: flex;
        }

        .estadistica {
            text-align: center;
        }

        .estadistica-numero {
            font-size: 2rem;
            font-weight: bold;
            color: #007bff;
        }

        .estadistica-texto {
            color: #6c757d;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .ejercicios-grid {
                grid-template-columns: 1fr;
            }
            
            .selector-nivel {
                flex-direction: column;
                align-items: center;
            }
            
            .boton-nivel {
                width: 200px;
            }
            
            .controles-generacion {
                display: flex;
                flex-direction: column;
                gap: 10px;
            }
            
            .estadisticas {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎲 Generador de Sumas Aleatorias 🎲</h1>
            <p>Elige el nivel de dificultad y genera sumas aleatorias para practicar</p>
        </div>

        <div class="controles">
            <h3>🎯 Selecciona el Nivel de Dificultad</h3>
            <div class="selector-nivel">
                <button class="boton-nivel" data-cifras="1">🌟 1 Cifra</button>
                <button class="boton-nivel" data-cifras="2">🌟🌟 2 Cifras</button>
                <button class="boton-nivel" data-cifras="3">🌟🌟🌟 3 Cifras</button>
                <button class="boton-nivel" data-cifras="4">🌟🌟🌟🌟 4 Cifras</button>
                <button class="boton-nivel" data-cifras="5">🌟🌟🌟🌟🌟 5 Cifras</button>
            </div>

            <div class="cantidad-selector">
                <label for="cantidad">Cantidad de ejercicios:</label>
                <select id="cantidad">
                    <option value="5">5 ejercicios</option>
                    <option value="10" selected>10 ejercicios</option>
                    <option value="15">15 ejercicios</option>
                    <option value="20">20 ejercicios</option>
                </select>
            </div>

            <div class="controles-generacion">
                <button class="boton-generar" onclick="generarEjercicios()">🎲 Generar Ejercicios</button>
                <button class="boton-limpiar" onclick="limpiarTodo()">🧹 Limpiar Todo</button>
            </div>
        </div>

        <div id="info-nivel" class="info-nivel">
            <h4 id="titulo-nivel"></h4>
            <p id="descripcion-nivel"></p>
        </div>

        <div class="area-ejercicios">
            <div id="ejercicios-container" class="ejercicios-grid"></div>
        </div>

        <div id="controles-verificacion" style="text-align: center; margin-top: 30px; display: none;">
            <button class="boton-verificar" onclick="verificarTodas()">🔍 Verificar Todas las Respuestas</button>
        </div>

        <div id="resultado" class="resultado"></div>

        <div id="estadisticas" class="estadisticas">
            <div class="estadistica">
                <div id="correctas" class="estadistica-numero">0</div>
                <div class="estadistica-texto">Correctas</div>
            </div>
            <div class="estadistica">
                <div id="incorrectas" class="estadistica-numero">0</div>
                <div class="estadistica-texto">Incorrectas</div>
            </div>
            <div class="estadistica">
                <div id="porcentaje" class="estadistica-numero">0%</div>
                <div class="estadistica-texto">Aciertos</div>
            </div>
        </div>
    </div>

    <script>
        let nivelSeleccionado = 0;
        let ejerciciosActuales = [];

        // Información de niveles
        const infoNiveles = {
            1: { titulo: "Nivel 1: Sumas de 1 cifra", descripcion: "Números del 0 al 9. Ideal para principiantes." },
            2: { titulo: "Nivel 2: Sumas de 2 cifras", descripcion: "Números del 10 al 99. Practica llevadas básicas." },
            3: { titulo: "Nivel 3: Sumas de 3 cifras", descripcion: "Números del 100 al 999. Llevadas múltiples." },
            4: { titulo: "Nivel 4: Sumas de 4 cifras", descripcion: "Números del 1,000 al 9,999. Desafío intermedio." },
            5: { titulo: "Nivel 5: Sumas de 5 cifras", descripcion: "Números del 10,000 al 99,999. Nivel experto." }
        };

        // Configurar botones de nivel
        document.querySelectorAll('.boton-nivel').forEach(boton => {
            boton.addEventListener('click', function() {
                // Quitar clase activo de todos los botones
                document.querySelectorAll('.boton-nivel').forEach(b => b.classList.remove('activo'));
                
                // Agregar clase activo al botón seleccionado
                this.classList.add('activo');
                
                nivelSeleccionado = parseInt(this.dataset.cifras);
                mostrarInfoNivel(nivelSeleccionado);
            });
        });

        function mostrarInfoNivel(nivel) {
            const infoDiv = document.getElementById('info-nivel');
            const titulo = document.getElementById('titulo-nivel');
            const descripcion = document.getElementById('descripcion-nivel');
            
            titulo.textContent = infoNiveles[nivel].titulo;
            descripcion.textContent = infoNiveles[nivel].descripcion;
            infoDiv.classList.add('mostrar');
        }

        function generarNumeroAleatorio(cifras) {
            const min = cifras === 1 ? 0 : Math.pow(10, cifras - 1);
            const max = Math.pow(10, cifras) - 1;
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function generarEjercicios() {
            if (nivelSeleccionado === 0) {
                alert('⚠️ Por favor selecciona un nivel de dificultad primero');
                return;
            }

            const cantidad = parseInt(document.getElementById('cantidad').value);
            const container = document.getElementById('ejercicios-container');
            
            // Limpiar ejercicios anteriores
            container.innerHTML = '';
            ejerciciosActuales = [];

            // Generar nuevos ejercicios
            for (let i = 0; i < cantidad; i++) {
                const num1 = generarNumeroAleatorio(nivelSeleccionado);
                const num2 = generarNumeroAleatorio(nivelSeleccionado);
                const respuestaCorrecta = num1 + num2;

                const ejercicio = {
                    num1: num1,
                    num2: num2,
                    respuesta: respuestaCorrecta
                };

                ejerciciosActuales.push(ejercicio);

                const ejercicioHTML = `
                    <div class="ejercicio">
                        <div class="numero-ejercicio">${i + 1}</div>
                        <div class="suma-problema">${num1.toLocaleString()} + ${num2.toLocaleString()} =</div>
                        <input type="number" class="input-respuesta" data-index="${i}" data-respuesta="${respuestaCorrecta}">
                    </div>
                `;

                container.innerHTML += ejercicioHTML;
            }

            // Mostrar controles de verificación
            document.getElementById('controles-verificacion').style.display = 'block';
            
            // Ocultar resultado anterior
            document.getElementById('resultado').classList.remove('mostrar');
            document.getElementById('estadisticas').classList.remove('mostrar');
        }

        function verificarTodas() {
            const inputs = document.querySelectorAll('.input-respuesta');
            let correctas = 0;
            let incorrectas = 0;
            let total = inputs.length;

            inputs.forEach(input => {
                const respuestaCorrecta = parseInt(input.dataset.respuesta);
                const respuestaUsuario = parseInt(input.value);
                
                // Limpiar clases anteriores
                input.classList.remove('correcto', 'incorrecto');
                
                if (input.value === '') {
                    // Campo vacío - no contar
                    return;
                } else if (respuestaUsuario === respuestaCorrecta) {
                    input.classList.add('correcto');
                    correctas++;
                } else {
                    input.classList.add('incorrecto');
                    incorrectas++;
                }
            });

            mostrarResultado(correctas, incorrectas, total);
            mostrarEstadisticas(correctas, incorrectas, total);
        }

        function mostrarResultado(correctas, incorrectas, total) {
            const resultado = document.getElementById('resultado');
            resultado.classList.add('mostrar');
            
            const respondidas = correctas + incorrectas;
            
            if (correctas === total && respondidas === total) {
                resultado.className = 'resultado mostrar exito';
                resultado.innerHTML = `🎉 ¡PERFECTO! Has resuelto correctamente todas las ${total} sumas. ¡Eres un genio de las matemáticas! 🏆`;
            } else if (correctas > total / 2) {
                resultado.className = 'resultado mostrar parcial';
                resultado.innerHTML = `👍 ¡Muy bien! Has resuelto correctamente ${correctas} de ${respondidas} sumas respondidas. ¡Sigue así! 💪`;
            } else if (respondidas > 0) {
                resultado.className = 'resultado mostrar parcial';
                resultado.innerHTML = `📚 Has resuelto correctamente ${correctas} de ${respondidas} sumas. ¡No te rindas, sigue practicando! 🌟`;
            } else {
                resultado.className = 'resultado mostrar parcial';
                resultado.innerHTML = `❓ No has respondido ninguna suma aún. ¡Inténtalo! 🚀`;
            }
        }

        function mostrarEstadisticas(correctas, incorrectas, total) {
            document.getElementById('correctas').textContent = correctas;
            document.getElementById('incorrectas').textContent = incorrectas;
            
            const respondidas = correctas + incorrectas;
            const porcentaje = respondidas > 0 ? Math.round((correctas / respondidas) * 100) : 0;
            document.getElementById('porcentaje').textContent = porcentaje + '%';
            
            document.getElementById('estadisticas').classList.add('mostrar');
        }

        function limpiarTodo() {
            // Limpiar selección de nivel
            document.querySelectorAll('.boton-nivel').forEach(b => b.classList.remove('activo'));
            nivelSeleccionado = 0;
            
            // Ocultar info de nivel
            document.getElementById('info-nivel').classList.remove('mostrar');
            
            // Limpiar ejercicios
            document.getElementById('ejercicios-container').innerHTML = '';
            ejerciciosActuales = [];
            
            // Ocultar controles y resultados
            document.getElementById('controles-verificacion').style.display = 'none';
            document.getElementById('resultado').classList.remove('mostrar');
            document.getElementById('estadisticas').classList.remove('mostrar');
        }

        // Permitir verificar con Enter
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && ejerciciosActuales.length > 0) {
                verificarTodas();
            }
        });
    </script>
</body>
</html>